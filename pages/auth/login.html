<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로그인 - 문경 부설 디지털헬스케어센터</title>
    <meta name="description" content="디지털헬스케어센터 로그인 페이지">
    <link rel="icon" href="../../assets/images/logo/logo.jpeg">
    <link rel="manifest" href="../../manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <!-- Tailwind CSS Play CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="../../assets/css/main.css">
    <!-- 경로 헬퍼 스크립트 (항상 가장 먼저 로드되어야 함) -->
    <script src="../../assets/js/utils/script-loader.js"></script>
</head>

<body class="bg-gray-50">
    <header id="main-header" class="bg-white shadow-md">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="logo">
                <a href="javascript:window.location.href=window.adjustPath('index.html')">
                    <img src="../../assets/images/logo/logo.jpeg" alt="디지털헬스케어센터 로고" class="logo-image">
                </a>
            </div>
            <nav class="main-nav hidden md:flex">
                <ul class="flex space-x-6">
                    <li class="group relative">
                        <a href="#" class="text-gray-800 hover:text-blue-600 py-2">기관 소개</a>
                        <ul
                            class="submenu absolute hidden group-hover:block bg-white shadow-lg rounded-md w-48 p-2 z-10">
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/about/overview.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">개요</a></li>
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/about/vision.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">목표 및 전략</a></li>
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/about/business.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">사업 내용</a></li>
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/about/organization.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">조직도</a></li>
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/about/instructors.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">강사 소개</a></li>
                        </ul>
                    </li>
                    <li class="group relative">
                        <a href="#" class="text-gray-800 hover:text-blue-600 py-2">자격증 소개</a>
                        <ul
                            class="submenu absolute hidden group-hover:block bg-white shadow-lg rounded-md w-48 p-2 z-10">
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/certificate/health-exercise.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">건강운동처방사</a></li>
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/certificate/rehabilitation.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">운동재활지도자</a></li>
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/certificate/pilates.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">필라테스 전문가</a></li>
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/certificate/recreation.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">레크리에이션지도자</a></li>
                        </ul>
                    </li>
                    <li class="group relative">
                        <a href="#" class="text-gray-800 hover:text-blue-600 py-2">교육 과정</a>
                        <ul
                            class="submenu absolute hidden group-hover:block bg-white shadow-lg rounded-md w-48 p-2 z-10">
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/education/course-info.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">교육 과정 안내</a></li>
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/education/course-application.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">교육 신청</a></li>
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/education/cert-application.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">자격증 신청</a></li>
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/education/exam-info.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">시험 안내</a></li>
                        </ul>
                    </li>
                    <li class="group relative">
                        <a href="#" class="text-gray-800 hover:text-blue-600 py-2">게시판</a>
                        <ul
                            class="submenu absolute hidden group-hover:block bg-white shadow-lg rounded-md w-48 p-2 z-10">
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/board/notice/index.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">공지사항</a></li>
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/board/column/index.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">칼럼</a></li>
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/board/materials/index.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">강의자료</a></li>
                            <li><a href="javascript:window.location.href=window.adjustPath('pages/board/videos/index.html')"
                                    class="block px-4 py-2 hover:bg-gray-100 rounded-md">동영상 강의</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
            <div class="auth-buttons flex items-center">
                <a href="javascript:window.location.href=window.adjustPath('pages/auth/login.html')"
                    class="login-btn text-sm bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md">로그인</a>
                <a href="javascript:window.location.href=window.adjustPath('pages/auth/signup.html')"
                    class="signup-btn text-sm text-gray-600 hover:text-blue-600 ml-4">회원가입</a>
                <button id="mobile-menu-button" class="md:hidden ml-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg py-4">
            <div class="container mx-auto px-4">
                <!-- Mobile navigation menu -->
                <!-- 내용은 JavaScript에서 동적으로 생성 예정 -->
            </div>
        </div>
    </header>

    <main class="py-12">
        <div class="container mx-auto px-4">
            <div class="max-w-md mx-auto bg-white rounded-lg shadow-md p-8">
                <div class="text-center mb-8">
                    <h1 class="text-2xl font-bold text-gray-800">로그인</h1>
                    <p class="text-gray-600 mt-2">디지털헬스케어센터 서비스 이용을 위해 로그인해주세요.</p>
                </div>

                <!-- 알림 메시지 (필요 시 표시) -->
                <div id="notification" class="mb-6 hidden">
                    <div class="border-l-4 p-4 rounded">
                        <div class="flex items-start">
                            <div class="flex-shrink-0">
                                <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                                    fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                            <div class="ml-3">
                                <p id="notification-message">알림 메시지</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 로그인 폼 -->
                <form id="login-form" class="space-y-6">
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">이메일</label>
                        <input type="email" id="email" name="email"
                            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                            placeholder="이메일 주소를 입력하세요" required>
                    </div>

                    <div>
                        <div class="flex items-center justify-between mb-1">
                            <label for="password" class="block text-sm font-medium text-gray-700">비밀번호</label>
                            <a href="javascript:window.location.href=window.adjustPath('pages/auth/find-account.html')"
                                class="text-xs text-blue-600 hover:text-blue-800">비밀번호 찾기</a>
                        </div>
                        <input type="password" id="password" name="password"
                            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                            placeholder="비밀번호를 입력하세요" required>
                    </div>

                    <div class="flex items-center">
                        <input type="checkbox" id="remember-me" name="remember-me"
                            class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                        <label for="remember-me" class="ml-2 block text-sm text-gray-700">로그인 상태 유지</label>
                    </div>

                    <div>
                        <button type="submit" id="login-btn"
                            class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                            로그인
                        </button>
                    </div>
                </form>

                <div class="mt-6">
                    <div class="relative">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-gray-300"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-2 bg-white text-gray-500">또는</span>
                        </div>
                    </div>

                    <div class="mt-6 grid grid-cols-1 gap-3">
                        <button type="button" id="google-login-btn"
                            class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <g transform="matrix(1, 0, 0, 1, 27.009001, -39.238998)">
                                    <path fill="#4285F4"
                                        d="M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z" />
                                    <path fill="#34A853"
                                        d="M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z" />
                                    <path fill="#FBBC05"
                                        d="M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z" />
                                    <path fill="#EA4335"
                                        d="M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z" />
                                </g>
                            </svg>
                            Google 계정으로 로그인
                        </button>
                    </div>
                </div>

                <div class="mt-6 text-center">
                    <p class="text-sm text-gray-600">
                        아직 회원이 아니신가요?
                        <a href="signup.html" class="text-blue-600 hover:text-blue-800 font-medium">회원가입</a>
                    </p>
                </div>
            </div>
        </div>
    </main>

    <!-- 푸터 -->
    <footer class="bg-gray-800 text-white">
        <div class="container mx-auto px-4 py-6">
            <!-- 기관 정보 및 소셜 링크 -->
            <div class="mb-6">
                <h3 class="text-lg font-bold mb-3 text-white">사단법인 문경</h3>
                <p class="text-gray-400 mb-4 text-sm leading-relaxed max-w-2xl">
                    운동과학 기반 전문직업인력 양성을 위한 교육 및 자격 인증 관리 플랫폼
                </p>
            </div>

            <!-- 사업자 정보 섹션 -->
            <div class="border-t border-gray-700 pt-5 mb-5">
                <div class="flex flex-wrap gap-y-2 gap-x-8">
                    <div class="min-w-[200px]">
                        <p class="text-sm text-gray-400 mb-1">상호: 사단법인 문경</p>
                        <p class="text-sm text-gray-400 mb-1">대표: 최승욱</p>
                        <p class="text-sm text-gray-400 mb-1">주소: 서울특별시 노원구 한글비석로 233, 새롬스타빌 706호&lpar;중계동, 새롬스타빌&rpar;</p>
                        <p class="text-sm text-gray-400 mb-1">전화: </p>
                    </div>
                    <div class="min-w-[200px]">
                        <p class="text-sm text-gray-400 mb-1">이메일: nhohs1507@gmail.com</p>
                        <p class="text-sm text-gray-400 mb-1">사업자등록번호: 217-82-07188</p>
                        <p class="text-sm text-gray-400 mb-1">통신판매신고번호: </p>
                    </div>
                </div>
            </div>

            <!-- 저작권 정보 -->
            <div class="border-t border-gray-700 pt-4">
                <p class="text-sm text-gray-400">&copy; 2025 사단법인 문경. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- TOP 버튼 -->
    <button id="scroll-top-btn">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
        </svg>
    </button>

    <!-- Firebase SDK 템플릿 (script-loader.js에 의해 처리됨) -->
    <script id="firebase-sdk-template" type="text/template">
        <!-- Firebase SDK - CDN 방식 -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"><\/script>
        <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"><\/script>
        <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"><\/script>
        <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"><\/script>

        <!-- 프로젝트 Firebase 설정 및 서비스 -->
        <script src="{basePath}assets/js/config/firebase-config.js"><\/script>
        <script src="{basePath}assets/js/services/auth-service.js"><\/script>

        <!-- 로컬 테스트용 인증 오버라이드 -->
        <script src="{basePath}assets/js/services/local-auth-override.js"><\/script>

        <!-- 필요한 서비스 모듈 -->
        <script src="{basePath}assets/js/services/db-service.js"><\/script>
        <script src="{basePath}assets/js/services/storage-service.js"><\/script>
    </script>

    <!-- 추가 스크립트 템플릿 -->
    <script id="additional-scripts-template" type="text/template">
        <script src="{basePath}assets/js/components/header.js"><\/script>
        <script src="{basePath}assets/js/utils/validators.js"><\/script>
        <script src="{basePath}assets/js/pages/auth/login.js"><\/script>
        <script src="{basePath}assets/js/main.js"><\/script>
    </script>
    <script>
        // 무한 리디렉션 방지
        if (window.redirectCount) {
            window.redirectCount++;
            if (window.redirectCount > 5) {
                console.error('무한 리디렉션 감지됨');
                alert('페이지 로딩 중 문제가 발생했습니다. 홈페이지로 이동합니다.');
                window.location.href = '/index.html';
            }
        } else {
            window.redirectCount = 1;
        }
    </script>
</body>

</html>